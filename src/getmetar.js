/* CheckWX Aviation Weather Widget 2.0.0 (05.01.2018) | MIT & BSD | http://widget.checkwx.com */
/* Adapted by Lars Becker to load METAR when calling loadMetar() */

function loadMetar(){for(var e=function(e,t){for(var a=document.createDocumentFragment(),n=0;n<e.data.length;n++){var d=document.createElement("a"),c="https://www.checkwx.com/weather/"+e.data[n].icao+"/"+e.data[n].type;d.setAttribute("href",c),d.setAttribute("target","_blank"),d.className="checkwx-link";var r=document.createTextNode(e.data[n].icao);d.appendChild(r);var o=document.createElement("p");o.className="checkwx-item",o.appendChild(d),r=document.createTextNode(e.data[n].text),o.appendChild(r),a.appendChild(o)}t.appendChild(a)},t=document.getElementsByClassName("checkwx-container"),a=0;a<t.length;a++){var n=t[a].getAttribute("data-type")||"metar";!function(t,a,n){var d=new XMLHttpRequest;d.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE&&200===this.status){var t=JSON.parse(this.responseText);e(t,n)}},d.open("GET","https://api.checkwx.com/"+a.toLowerCase()+"/"+t,!0),d.setRequestHeader("X-API-KEY","wxea55a1d0f435a87de743d9d985"),d.send()}(t[a].getAttribute("data-station")||"",n,t[a])}};